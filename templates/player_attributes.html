{% extends "layout.html" %}
{% block title %}Player Attributes List{% endblock %}
{% block content %}
<h1 class="title">Player Attributes</h1>

{% if player_attributes %}
<table class="table is-striped is-fullwidth">
    <thead>
        <tr>
            <th>Player Code</th>
            <th>Position</th>
            <th>Foot</th>
            <th>Height (cm)</th>
            <th>Market Value (EUR)</th>
            <th>Highest Market Value (EUR)</th>
            <th>Contract Expiration</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for attribute in player_attributes %}
        <tr>
            <td>
                <a href="{{ url_for('player_attributes_page', player_id=attribute.id) }}">
                    {{ attribute.player_code }}
                </a>
            </td>
            <td>{{ attribute.position }} ({{ attribute.sub_position }})</td>
            <td>{{ attribute.foot }}</td>
            <td>{{ attribute.height_in_cm }}</td>
            <td>{{ attribute.market_value_in_eur }}</td>
            <td>{{ attribute.highest_market_value_in_eur }}</td>
            <td>{{ attribute.contract_expiration_date }}</td>
            <td>
                <form action="{{ url_for('players_attributes_page') }}" method="post" style="display:inline;">
                    <input type="hidden" name="player_attributes_to_delete" value="{{ attribute.id }}">
                    <button type="submit" class="button is-danger is-small"
                        onclick="return confirm('Are you sure?')">Delete</button>
                </form>
                <a href="{{ url_for('edit_attributes_page', player_attributes_id=attribute.id) }}"
                    class="button is-info is-small">Edit</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No attributes found.</p>
{% endif %}

<div class="field is-grouped">
    <div class="control">
        <a href="{{ url_for('add_attributes_page') }}" class="button is-primary">Add New Attributes</a>
    </div>
</div>

{% endblock %}