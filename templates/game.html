{% extends "layout.html" %}
{% block title %}Game Details{% endblock %}
{% block content %}
<h1 class="title">Game Details</h1>

<div class="card">
    <div class="card-content">
        <div class="level">
            <div class="level-item has-text-centered">
                <div>
                    <p class="heading">Home</p>
                    <p class="title"><a href="{{ url_for('club_page', club_id=game.home_club_id) }}">{{
                            game.home_club_name }}</a></p>
                    <p class="subtitle is-6">Position: {{ game.home_club_position }}</p>
                    <p>Manager: {{ game.home_club_manager_name }}</p>
                </div>
            </div>
            <div class="level-item has-text-centered">
                <div>
                    <p class="heading">Score</p>
                    <p class="title is-1">{{ game.home_club_goals }}p - {{ game.away_club_goals }}p</p>
                    <p class="subtitle">{{ game.date }}</p>
                </div>
            </div>
            <div class="level-item has-text-centered">
                <div>
                    <p class="heading">Away</p>
                    <p class="title"><a href="{{ url_for('club_page', club_id=game.away_club_id) }}">{{
                            game.away_club_name }}</a></p>
                    <p class="subtitle is-6">Position: {{ game.away_club_position }}</p>
                    <p>Manager: {{ game.away_club_manager_name }}</p>
                </div>
            </div>
        </div>

        <div class="content mt-5">
            <table class="table is-fullwidth">
                <tr>
                    <th>Competition ID</th>
                    <td>{{ game.competition_id }}</td>
                </tr>
                <tr>
                    <th>Season</th>
                    <td>{{ game.season }}</td>
                </tr>
                <tr>
                    <th>Stadium</th>
                    <td>{{ game.stadium }}</td>
                </tr>
                <tr>
                    <th>Attendance</th>
                    <td>{{ game.attendance }}</td>
                </tr>
                <tr>
                    <th>Referee</th>
                    <td>{{ game.referee }}</td>
                </tr>
                <tr>
                    <th>URL</th>
                    <td><a href="{{ game.url }}" target="_blank">Link</a></td>
                </tr>
            </table>

            <div class="buttons">
                <a href="{{ url_for('goals_page', game_id=game.game_id) }}" class="button is-info">View Goals</a>
                {% if current_user.is_admin %}
                <a href="{{ url_for('game_edit_page', game_id=game.game_id) }}" class="button is-warning">Edit Game</a>
                <a href="{{ url_for('game_delete_page', game_id=game.game_id) }}" class="button is-danger"
                    onclick="return confirm('Are you sure you want to delete this game?')">Delete Game</a>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class="mt-3">
    <a href="{{ url_for('games_page') }}" class="button is-light">Back to Games List</a>
</div>

{% endblock %}